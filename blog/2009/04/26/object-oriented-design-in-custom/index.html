<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><title>Forget Me Not! Object Oriented Design in Custom Exception | Sohan's Blog</title>
<meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="When designing custom exceptions, you may forget about old school OO fundamentals. As a reminder, lets take a look into the following custom exception classes.
StorySaveError
StoryDescopeNotAllowedError
StoryCompleteError
StoryNotFoundError
StoryDeleteError
StoryDeleteNotAllowedErrorThese exceptions are really useful in my application. But the bad thing is, they all derive from StandardError class, whereas there should be a base class, may be StoryError, which is more meaningful and useful. So, we can have the following-"><meta name=generator content="Hugo 0.121.2"><meta name=robots content="noindex, nofollow"><link rel=stylesheet href=/ananke/css/main.min.css><meta property="og:title" content="Forget Me Not! Object Oriented Design in Custom Exception"><meta property="og:description" content="When designing custom exceptions, you may forget about old school OO fundamentals. As a reminder, lets take a look into the following custom exception classes.
StorySaveError
StoryDescopeNotAllowedError
StoryCompleteError
StoryNotFoundError
StoryDeleteError
StoryDeleteNotAllowedErrorThese exceptions are really useful in my application. But the bad thing is, they all derive from StandardError class, whereas there should be a base class, may be StoryError, which is more meaningful and useful. So, we can have the following-"><meta property="og:type" content="article"><meta property="og:url" content="http://smsohan.com/blog/2009/04/26/object-oriented-design-in-custom/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2009-04-26T00:00:00+00:00"><meta property="article:modified_time" content="2009-04-26T00:00:00+00:00"><meta itemprop=name content="Forget Me Not! Object Oriented Design in Custom Exception"><meta itemprop=description content="When designing custom exceptions, you may forget about old school OO fundamentals. As a reminder, lets take a look into the following custom exception classes.
StorySaveError
StoryDescopeNotAllowedError
StoryCompleteError
StoryNotFoundError
StoryDeleteError
StoryDeleteNotAllowedErrorThese exceptions are really useful in my application. But the bad thing is, they all derive from StandardError class, whereas there should be a base class, may be StoryError, which is more meaningful and useful. So, we can have the following-"><meta itemprop=datePublished content="2009-04-26T00:00:00+00:00"><meta itemprop=dateModified content="2009-04-26T00:00:00+00:00"><meta itemprop=wordCount content="433"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Forget Me Not! Object Oriented Design in Custom Exception"><meta name=twitter:description content="When designing custom exceptions, you may forget about old school OO fundamentals. As a reminder, lets take a look into the following custom exception classes.
StorySaveError
StoryDescopeNotAllowedError
StoryCompleteError
StoryNotFoundError
StoryDeleteError
StoryDeleteNotAllowedErrorThese exceptions are really useful in my application. But the bad thing is, they all derive from StandardError class, whereas there should be a base class, may be StoryError, which is more meaningful and useful. So, we can have the following-"><style>.athelas,.body-text{font-family:helvetica neue,Helvetica,Arial,sans-serif}.body-text div,p,article,section{font-size:1rem;line-height:1.4rem}.athelas.fw1{font-weight:inherit}h1.f1{line-height:4rem}</style></head><body class="ma0 body-text"><header><div class=bg-navy><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l justify-between items-center center"><a href=/ class="f3 fw2 hover-white no-underline white-90 dib">Sohan's Blog</a><div class="flex-l items-center"><ul class="pl0 mr3"><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/home/ title="About page">About</a></li></ul><div class=ananke-socials></div></div></div></nav></div></header><main class=pb7 role=main><article class="flex-l flex-wrap justify-between mw8 center ph3"><header class="mt4 w-100"><aside class="instapaper_ignoref b helvetica tracked">POSTS</aside><div id=sharing class="mt3 ananke-socials"></div><h1 class="f1 athelas mt3 mb1">Forget Me Not! Object Oriented Design in Custom Exception</h1><time class="f6 mv4 dib tracked" datetime=2009-04-26T00:00:00Z>April 26, 2009</time></header><div class="nested-copy-line-height lh-copy body-text f4 nested-links mid-gray pr4-l w-two-thirds-l"><div class=post><p>When designing custom exceptions, you may forget about old school OO fundamentals. As a reminder, lets take a look into the following custom exception classes.</p><pre class="brush: rails"><br>StorySaveError<br>StoryDescopeNotAllowedError<br>StoryCompleteError<br>StoryNotFoundError<br>StoryDeleteError<br>StoryDeleteNotAllowedError</pre><p>These exceptions are really useful in my application. But the bad thing is, they all derive from StandardError class, whereas there should be a base class, may be StoryError, which is more meaningful and useful. So, we can have the following-</p><pre class="brush: rails"><br>class StoryError < StandardError<br>end<br>StorySaveError < StoryError<br>StoryDescopeNotAllowedError < StoryError<br>StoryCompleteError < StoryError<br>StoryNotFoundError < StoryError<br>StoryDeleteError < StoryError<br>StoryDeleteNotAllowedError < StoryError</pre><p>With the addition of a base class for all Story related exceptions, I can write cleaner/better code.</p><ul><li>When I am not interested about the specific error, I can just use <code>rescue StoryError</code> to catch 'em all</li><li>I can place a common error handling routine for all Story related exceptions</li><li>I can add new exception types without altering the codes where the specific type of StoryError is insignificant</li></ul><p>From my experience, I found that most people are not cautious about OO when desiging custom exceptions. (because they are exceptions!). Nonetheless, if you follow the OO guides, it will pay off for sure.</p></div><h2>Comments</h2><div class=comments><div class=comment><div class=author>Sohan</div><div class=content>Yes, that is another way. Usually, people use ErrorCode to designate such cases. For example, WebException has many error codes in .Net. One code denotes timeout, another denotes network failure and so on.<br>One quick point, I saw you added attr_accessor :message. message is already an attribute of the Exception class, the base class of all Exceptions. So, you need not define a message property again. Its there and you can use it for free!</div></div><div class=comment><div class=author>Samiron Paul</div><div class=content>Just sharing a little experience. A situation where user may be failed to delete a task for any of two type of restrictions. But in both case "TaskDeleteNotAllowed" type exception will be raising. Hence it will not be possible to show the exact reason to user. Now instead of being so conservative by creating a new class, we came out in the following way<br><br>Added a attribute in TaskDeleteNotAllowed:<br>Class TaskDeleteNotAllowed &lt; StandardError<br>attr_accessor :message<br>end<br><br>Create an instance of the class while before raising:<br>exception = TaskDeleteNotAllowed.new<br><br>Setting custom message based on the error occurred and raise that:<br>exception.message = "Task is completed" #or any other message<br>raise exception<br><br>Of course rescuing the error as following:<br>...<br>rescue TaskDeleteNotAllowed => error<br>#show {error.message} in flash or write in log<br>...<br>That makes a proper sense to user whenever she fails to delete a task.<br><br>Anyway, being concerned with OO fundamentals in designing custom exception handlers is realized again.<br><br>Thanks for the post</div></div></div><ul class=pa0></ul><div class="mt6 instapaper_ignoref"></div></div><aside class="w-30-l mt6-l"></aside></article></main><footer class="bg-navy bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=http://smsohan.com/>&copy; Sohan's Blog 2024</a><div><div class=ananke-socials></div></div></div></footer></body></html>